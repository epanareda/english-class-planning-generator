(function(){"use strict";var n={2812:function(n,l,e){var t=e(9242),r=e(3396);function o(n,l){const e=(0,r.up)("router-view");return(0,r.wg)(),(0,r.j4)(e)}var s=e(89);const u={},a=(0,s.Z)(u,[["render",o]]);var i=a,c=e(2483);function d(n,l,e,t,o,s){const u=(0,r.up)("Home");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(u)])}var h=e(7139);const p=n=>((0,r.dD)("data-v-22864fb8"),n=n(),(0,r.Cn)(),n),_={class:"main-container"},m=p((()=>(0,r._)("h1",null,"All planning variations generator",-1))),f={class:"template-container"},y=p((()=>(0,r._)("h3",null,"Fixed values",-1))),b=p((()=>(0,r._)("tr",null,[(0,r._)("td",{class:"no-borders"}),(0,r._)("td",{colspan:"5"},"6ème"),(0,r._)("td",{colspan:"6"},"5ème"),(0,r._)("td",{colspan:"6"},"4ème"),(0,r._)("td",{colspan:"5"},"3ème"),(0,r._)("td",{colspan:"2"},"EP"),(0,r._)("td",{rowspan:"2"},"TOTAL")],-1))),v=p((()=>(0,r._)("tr",null,[(0,r._)("td",{class:"no-borders"}),(0,r._)("td",null,"4.5h"),(0,r._)("td",null,"4.5h"),(0,r._)("td",null,"4.5h"),(0,r._)("td",null,"4.5h"),(0,r._)("td",null,"4.5h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3.5h"),(0,r._)("td",null,"3.5h"),(0,r._)("td",null,"3.5h"),(0,r._)("td",null,"3.5h"),(0,r._)("td",null,"3.5h"),(0,r._)("td",null,"1h"),(0,r._)("td",null,"1h")],-1))),C=["onClick"],w={class:"conditions-container"},g=p((()=>(0,r._)("h3",null,"Conditions",-1))),P={class:"number-condition-container"},E=["onClick"],A=["onClick"],k={class:"number-condition-container"},x=["onClick"],I=["onClick"],H={class:"checkbox-condition-container"},O=["id","onUpdate:modelValue"],V=["for"],D={class:"EP-consideration-container"},F=p((()=>(0,r._)("h5",null,"Consider EP to calculate max courses?",-1))),j=p((()=>(0,r._)("label",{for:"EPvalid"},"Consider",-1))),T={class:"print-conf-container"},$=p((()=>(0,r._)("h3",null,"Printing parameters",-1))),z=p((()=>(0,r._)("h5",null,"How many tables do you want to print?",-1))),M=p((()=>(0,r._)("label",{for:"10"},"10",-1))),S=p((()=>(0,r._)("label",{for:"100"},"100",-1))),U=p((()=>(0,r._)("label",{for:"1000"},"1000",-1))),q=p((()=>(0,r._)("label",{for:"10000"},"10000",-1))),K={class:"btn-container"},N=p((()=>(0,r._)("td",{class:"no-borders"},null,-1))),Y={colspan:"25"},B=p((()=>(0,r._)("tr",null,[(0,r._)("td",{class:"no-borders"}),(0,r._)("td",{colspan:"5"},"6ème"),(0,r._)("td",{colspan:"6"},"5ème"),(0,r._)("td",{colspan:"6"},"4ème"),(0,r._)("td",{colspan:"5"},"3ème"),(0,r._)("td",{colspan:"2"},"EP"),(0,r._)("td",{rowspan:"2"},"TOTAL")],-1))),G=p((()=>(0,r._)("tr",null,[(0,r._)("td",{class:"no-borders"}),(0,r._)("td",null,"4.5h"),(0,r._)("td",null,"4.5h"),(0,r._)("td",null,"4.5h"),(0,r._)("td",null,"4.5h"),(0,r._)("td",null,"4.5h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3h"),(0,r._)("td",null,"3.5h"),(0,r._)("td",null,"3.5h"),(0,r._)("td",null,"3.5h"),(0,r._)("td",null,"3.5h"),(0,r._)("td",null,"3.5h"),(0,r._)("td",null,"1h"),(0,r._)("td",null,"1h")],-1))),R=p((()=>(0,r._)("td",{class:"no-borders"},null,-1))),L={colspan:"5"},J={colspan:"6"},X={colspan:"6"},Z={colspan:"5"},W={colspan:"2"},Q=p((()=>(0,r._)("td",{class:"no-borders"},null,-1)));function nn(n,l,e,o,s,u){return(0,r.wg)(),(0,r.iD)("div",_,[m,(0,r._)("div",f,[y,(0,r._)("table",null,[b,v,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(Object.keys(s.people),((n,l)=>((0,r.wg)(),(0,r.iD)("tr",{key:l},[(0,r._)("td",null,(0,h.zw)(n),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.people[n],((l,e)=>((0,r.wg)(),(0,r.iD)("td",{key:e},[(0,r._)("button",{class:(0,h.C_)(["session-btn",[0===l?"":"session-selected"]]),onClick:l=>u.selectUnselectSession(n,e)},(0,h.zw)(0===l?"":"X"),11,C)])))),128)),(0,r._)("td",null,(0,h.zw)(u.calculateTotalHoursForPerson(n)),1)])))),128))])]),(0,r._)("div",w,[g,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(Object.keys(s.conditions),((n,l)=>((0,r.wg)(),(0,r.iD)("div",{key:l,class:"condition-container"},[(0,r._)("h5",null,(0,h.zw)(n),1),(0,r._)("div",null,[(0,r._)("div",P,[(0,r.Uk)(" Maximum hours x week: "),(0,r._)("div",null,[(0,r._)("button",{onClick:l=>u.increasDecreas("decreas",s.conditions[n],"maxHours")},"-",8,E),(0,r._)("span",null,(0,h.zw)(s.conditions[n].maxHours),1),(0,r._)("button",{onClick:l=>u.increasDecreas("increas",s.conditions[n],"maxHours")},"+",8,A)])]),(0,r._)("div",k,[(0,r.Uk)(" Maximum courses to teach x week: "),(0,r._)("div",null,[(0,r._)("button",{onClick:l=>u.increasDecreas("decreas",s.conditions[n],"maxCourses")},"-",8,x),(0,r._)("span",null,(0,h.zw)(s.conditions[n].maxCourses),1),(0,r._)("button",{onClick:l=>u.increasDecreas("increas",s.conditions[n],"maxCourses")},"+",8,I)])]),(0,r._)("div",H,[(0,r.Uk)(" Forbidden courses: "),(0,r._)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(Object.keys(s.conditions[n].forbiddenCourses),((l,e)=>((0,r.wg)(),(0,r.iD)("div",{key:e},[(0,r.wy)((0,r._)("input",{type:"checkbox",id:n+l,"onUpdate:modelValue":e=>s.conditions[n].forbiddenCourses[l]=e},null,8,O),[[t.e8,s.conditions[n].forbiddenCourses[l]]]),(0,r._)("label",{for:n+l},(0,h.zw)(l+("EP"===l?"":"ème")),9,V)])))),128))])])])])))),128)),(0,r._)("div",D,[F,(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"checkbox",id:"EPvalid","onUpdate:modelValue":l[0]||(l[0]=n=>s.EPisCourse=n)},null,512),[[t.e8,s.EPisCourse]]),j])])]),(0,r._)("div",T,[$,z,(0,r._)("div",null,[(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"radio",id:"10",name:"num-tables",value:"10","onUpdate:modelValue":l[1]||(l[1]=n=>s.nVariations=n)},null,512),[[t.G2,s.nVariations]]),M]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"radio",id:"100",name:"num-tables",value:"100","onUpdate:modelValue":l[2]||(l[2]=n=>s.nVariations=n)},null,512),[[t.G2,s.nVariations]]),S]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"radio",id:"1000",name:"num-tables",value:"1000","onUpdate:modelValue":l[3]||(l[3]=n=>s.nVariations=n)},null,512),[[t.G2,s.nVariations]]),U]),(0,r._)("div",null,[(0,r.wy)((0,r._)("input",{type:"radio",id:"10000",name:"num-tables",value:"10000","onUpdate:modelValue":l[4]||(l[4]=n=>s.nVariations=n)},null,512),[[t.G2,s.nVariations]]),q])])]),(0,r._)("div",K,[(0,r._)("button",{class:"btn btn-primary",onClick:l[5]||(l[5]=n=>u.generateVariations())},"Get "+(0,h.zw)(s.nVariations)+" VARIATIONS",1),(0,r._)("button",{class:(0,h.C_)(["btn",0===s.variations.length?"disabled btn-secondary":"btn-success"]),onClick:l[6]||(l[6]=(...n)=>u.transformJSONtoExcel&&u.transformJSONtoExcel(...n))},"Export into EXCEL",2)]),(0,r._)("div",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(s.variations,((n,l)=>((0,r.wg)(),(0,r.iD)("table",{class:"mb-4",key:l},[(0,r._)("tr",null,[N,(0,r._)("td",Y,"Variation "+(0,h.zw)(l+1),1)]),B,G,((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(Object.keys(n),((l,e)=>((0,r.wg)(),(0,r.iD)("tr",{key:e},[(0,r._)("td",null,(0,h.zw)(l),1),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(u.transformVariationObjToArr(n[l].planning),((n,l)=>((0,r.wg)(),(0,r.iD)("td",{key:l},(0,h.zw)(0===n?"":"X"),1)))),128)),(0,r._)("td",null,(0,h.zw)(n[l].hours),1)])))),128)),(0,r._)("tr",null,[R,(0,r._)("td",L,(0,h.zw)(u.calculateIfCourseIsFull(n,6,!0)),1),(0,r._)("td",J,(0,h.zw)(u.calculateIfCourseIsFull(n,5,!0)),1),(0,r._)("td",X,(0,h.zw)(u.calculateIfCourseIsFull(n,4,!0)),1),(0,r._)("td",Z,(0,h.zw)(u.calculateIfCourseIsFull(n,3,!0)),1),(0,r._)("td",W,(0,h.zw)(u.calculateIfCourseIsFull(n,"EP",!0)),1),Q])])))),128))])])}e(7658);const ln=e(7092);var en={name:"Home",data(){return{people:{Anne:Array.apply(null,Array(24)).map((function(){return 0})),"Céline":Array.apply(null,Array(24)).map((function(){return 0})),Marjo:Array.apply(null,Array(24)).map((function(n,l){return 22===l?1:0})),Edith:Array.apply(null,Array(24)).map((function(){return 0})),BMP:Array.apply(null,Array(24)).map((function(n,l){return 0===l?1:0}))},conditions:{Anne:{minHours:18,maxHours:20,maxCourses:3,requiredCourses:{6:!1,5:!1,4:!1,3:!1,EP:!1},forbiddenCourses:{6:!1,5:!1,4:!0,3:!1,EP:!0}},"Céline":{minHours:18,maxHours:20,maxCourses:3,requiredCourses:{6:!1,5:!1,4:!1,3:!1,EP:!1},forbiddenCourses:{6:!1,5:!1,4:!1,3:!1,EP:!1}},Marjo:{minHours:15,maxHours:15,maxCourses:3,requiredCourses:{6:!1,5:!1,4:!1,3:!1,EP:!0},forbiddenCourses:{6:!1,5:!1,4:!1,3:!1,EP:!1}},Edith:{minHours:18,maxHours:21.5,maxCourses:3,requiredCourses:{6:!1,5:!1,4:!1,3:!1,EP:!1},forbiddenCourses:{6:!1,5:!0,4:!1,3:!1,EP:!0}},BMP:{minHours:7.5,maxHours:7.5,maxCourses:3,requiredCourses:{6:!1,5:!1,4:!1,3:!1,EP:!1},forbiddenCourses:{6:!1,5:!1,4:!1,3:!0,EP:!0}}},classes:{6:{qty:6,hours:4.5},5:{qty:6,hours:3},4:{qty:6,hours:3},3:{qty:5,hours:3.5},EP:{qty:2,hours:1}},EPisCourse:!1,nVariations:10,variations:[]}},methods:{selectUnselectSession(n,l){this.people[n][l]=0===this.people[n][l]?1:0},calculateTotalHoursForPerson(n){return this.people[n].reduce(((n,l,e)=>e<5?n+(0===l?0:4.5):e<17?n+(0===l?0:3):e<22?n+(0===l?0:3.5):e<24?n+(0===l?0:1):void 0),0)},calculateTotalCoursesForPerson(n){return this.people[n].reduce(((n,l,e)=>e<5&&1===l?n.includes(6)?n:[...n,6]:e<11&&1===l?n.includes(5)?n:[...n,5]:e<17&&1===l?n.includes(4)?n:[...n,4]:e<22&&1===l?n.includes(3)?n:[...n,3]:e<24&&1===l&&this.EPisCourse?n.includes("EP")?n:[...n,"EP"]:n),[])},calculateDefaultPlanning(n){const l={6:0,5:0,4:0,3:0,EP:0};return this.people[n].forEach(((n,e)=>{e<5&&1===n?l[6]++:e<11&&1===n?l[5]++:e<17&&1===n?l[4]++:e<22&&1===n?l[3]++:e<24&&1===n&&l["EP"]++})),l},calculateIfCourseIsFull(n,l,e=!1){const t=Object.values(n).reduce(((n,e)=>n+e.planning[l]),0);if(e){if(6==l)return 4.5*t;if([5,4].includes(l))return 3*t;if(3==l)return 3.5*t;if("EP"==l)return t}return[6,5,4].includes(l)?t<6:3==l?t<5:"EP"==l?t<2:void 0},transformVariationObjToArr(n){return[6,5,4,3,"EP"].reduce(((l,e)=>6===e?[...l,...Array.apply(null,Array(5)).map((function(l,t){return n[e]>t?1:0}))]:5===e||4===e?[...l,...Array.apply(null,Array(6)).map((function(l,t){return n[e]>t?1:0}))]:3===e?[...l,...Array.apply(null,Array(5)).map((function(l,t){return n[e]>t?1:0}))]:"EP"===e?[...l,...Array.apply(null,Array(2)).map((function(l,t){return n[e]>t?1:0}))]:void 0),[])},increasDecreas(n,l,e){"decreas"===n?l[e]--:l[e]++},randomIntFromInterval(n,l){return Math.floor(Math.random()*(l-n+1)+n)},getRandomCombination(){const n=["Anne","Céline","Marjo","Edith","BMP"],l=[6,5,4,3,"EP"];return[n[this.randomIntFromInterval(0,n.length-1)],l[this.randomIntFromInterval(0,l.length-1)]]},generateVariation(){const n={};for(let e of["Anne","Céline","Marjo","Edith","BMP"])n[e]={hours:this.calculateTotalHoursForPerson(e),courses:this.calculateTotalCoursesForPerson(e),planning:this.calculateDefaultPlanning(e)};let l=0;while(l<1e4){const[e,t]=this.getRandomCombination();let r;switch(t){case 6:r=4.5;break;case 5:r=3;break;case 4:r=3;break;case 3:r=3.5;break;case"EP":r=1;break}n[e].courses.includes(t)?n[e].hours+r<=this.conditions[e].maxHours&&this.calculateIfCourseIsFull(n,t)&&(n[e].planning[t]++,n[e].hours+=r):!1===this.conditions[e].forbiddenCourses[t]&&this.conditions[e].maxCourses>n[e].courses.length&&n[e].hours+r<=this.conditions[e].maxHours&&this.calculateIfCourseIsFull(n,t)&&(this.EPisCourse&&n[e].courses.push(t),n[e].planning[t]++,n[e].hours+=r),l++}return n},generateVariations(){this.variations=[];let n=0;while(n<1e10&&this.variations.length<this.nVariations){const l=this.generateVariation();this.variations.includes(l)||this.variations.push(l),n++}},transformJSONtoExcel(){const n=[];this.variations.forEach(((l,e)=>{n.push(Array.apply(null,Array(26)).reduce(((n,l,e)=>(n[`column ${e+1}`]="",n)),{})),n.push(Array.apply(null,Array(26)).reduce(((n,l,t)=>(n[`column ${t+1}`]=0===t?`VARIATION NUMBER ${e+1}`:"",n)),{})),n.push(Array.apply(null,Array(26)).reduce(((n,l,e)=>(n[`column ${e+1}`]=0===e?"":e<6?"6ème":e<12?"5ème":e<18?"4ème":e<23?"3ème":e<25?"EP":"TOTAL",n)),{})),Object.keys(l).forEach((e=>{const t=this.transformVariationObjToArr(l[e].planning);n.push(Array.apply(null,Array(26)).reduce(((n,r,o)=>(0===o?n[`column ${o+1}`]=e:o<6?1===t[o-1]?n[`column ${o+1}`]=4.5:n[`column ${o+1}`]="":o<18?1===t[o-1]?n[`column ${o+1}`]=3:n[`column ${o+1}`]="":o<23?1===t[o-1]?n[`column ${o+1}`]=3.5:n[`column ${o+1}`]="":o<25?1===t[o-1]?n[`column ${o+1}`]=1:n[`column ${o+1}`]="":n[`column ${o+1}`]=l[e].hours,n)),{}))})),n.push(Array.apply(null,Array(26)).reduce(((n,e,t)=>(n[`column ${t+1}`]=3===t?this.calculateIfCourseIsFull(l,6,!0):8===t?this.calculateIfCourseIsFull(l,5,!0):14===t?this.calculateIfCourseIsFull(l,4,!0):20===t?this.calculateIfCourseIsFull(l,3,!0):23===t?this.calculateIfCourseIsFull(l,"EP",!0):"",n)),{})),n.push(Array.apply(null,Array(26)).reduce(((n,l,e)=>(n[`column ${e+1}`]="",n)),{}))}));const l=ln.utils.json_to_sheet(n),e=ln.utils.book_new();e.SheetNames.push("variations"),e.Sheets["variations"]=l,ln.writeFile(e,`${this.nVariations}-variations-${(new Date).getTime()}.xlsx`)}},mounted(){}};const tn=(0,s.Z)(en,[["render",nn],["__scopeId","data-v-22864fb8"]]);var rn=tn,on={name:"HomeView",components:{Home:rn}};const sn=(0,s.Z)(on,[["render",d]]);var un=sn;const an=[{path:"/",name:"home",component:un}],cn=(0,c.p7)({history:(0,c.r5)(),routes:an});var dn=cn,hn=e(65),pn=(0,hn.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});e(2166);(0,t.ri)(i).use(pn).use(dn).mount("#app")}},l={};function e(t){var r=l[t];if(void 0!==r)return r.exports;var o=l[t]={exports:{}};return n[t].call(o.exports,o,o.exports,e),o.exports}e.m=n,function(){var n=[];e.O=function(l,t,r,o){if(!t){var s=1/0;for(c=0;c<n.length;c++){t=n[c][0],r=n[c][1],o=n[c][2];for(var u=!0,a=0;a<t.length;a++)(!1&o||s>=o)&&Object.keys(e.O).every((function(n){return e.O[n](t[a])}))?t.splice(a--,1):(u=!1,o<s&&(s=o));if(u){n.splice(c--,1);var i=r();void 0!==i&&(l=i)}}return l}o=o||0;for(var c=n.length;c>0&&n[c-1][2]>o;c--)n[c]=n[c-1];n[c]=[t,r,o]}}(),function(){e.n=function(n){var l=n&&n.__esModule?function(){return n["default"]}:function(){return n};return e.d(l,{a:l}),l}}(),function(){e.d=function(n,l){for(var t in l)e.o(l,t)&&!e.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:l[t]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){e.o=function(n,l){return Object.prototype.hasOwnProperty.call(n,l)}}(),function(){e.r=function(n){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})}}(),function(){var n={143:0};e.O.j=function(l){return 0===n[l]};var l=function(l,t){var r,o,s=t[0],u=t[1],a=t[2],i=0;if(s.some((function(l){return 0!==n[l]}))){for(r in u)e.o(u,r)&&(e.m[r]=u[r]);if(a)var c=a(e)}for(l&&l(t);i<s.length;i++)o=s[i],e.o(n,o)&&n[o]&&n[o][0](),n[o]=0;return e.O(c)},t=self["webpackChunkfred_file"]=self["webpackChunkfred_file"]||[];t.forEach(l.bind(null,0)),t.push=l.bind(null,t.push.bind(t))}();var t=e.O(void 0,[998],(function(){return e(2812)}));t=e.O(t)})();
//# sourceMappingURL=app.8e083354.js.map